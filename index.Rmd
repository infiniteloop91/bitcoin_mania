---
title: "Madness of the Crowd: From Tulip Mania to Bitcoin Bubbles"
author: "By Eric Lyons"
date: "12/12/2018"
output: html_document
---

<script type="text/javascript">
  // When the document is fully rendered...
  $(document).ready(function() {
    // ...select all header elements...
    $('h1, h2, h3, h4, h5').each(function() {
      // ...and add an id to them corresponding to their 'titles'
      $(this).attr('id', $(this).html());
    });
  });
</script>


<a href="#I. Introduction" style="color: #437209"> <strong> Go to I. Introduction</strong></a><br>
<a href="#II. Data" style="color: #437209"><strong>Go to II. Data</strong></a><br>
<a href="#III. Methodology" style="color: #437209"><strong>Go to III. Methodology</strong></a><br>
<a href="#IV. Analysis" style="color: #437209"><strong>Go to IV. Analysis</strong></a><br>
<a href="#V. Results" style="color: #437209"><strong>Go to V. Results</strong></a><br>
<a href="#VI. Conclusion" style="color: #437209"><strong> Go to VI. Conclusion</strong></a><br>


# I. Introduction

  Each year, seven million tulips bloom in Keukhenf, a public garden located in Southern Holland. Beside windmills, bicycles and chocolate, the small flower is one of the most iconic symbols associated with the Netherlands. While the flower is known for its colorful petals and delicate structure, it decimated the nationâ€™s economy at the beginning of the 17th century.

  The era is known as tulip madness. In the late 1500s, tulips were first imported to the Netherlands from India. Highly coveted for their intense color and their short period of bloom, tulips quickly became one of the highest demanded luxury goods. Companies were soon formed to finance the growth and sales of tulips. More and more people began to speculate on the good in what would be labeled today as a futures market. Many made riches tied up in the speculation of future tulip transactions. By 1637, the tulip bubble burst. Buyers could not pay the prices they had previously agreed to pay. Charles Mackay made this period famous in his book, Extraordinary Popular Delusions and Madness of the Crowd. Mackay labeled this period of speculation as one of the first recorded economic bubbles. 

  The United States may not have the same love for Tulips as the Netherlands, but over the last six months more and more Americans are being swept up by the Bitcoin craze. Bitcoin is a digital currency, commonly referred to as a crypto-currency, created in 2009. Unlike hard cash, a sovereign nation or a bank does not back Bitcoin. It is traded peer-to-peer completely online. The market forces of supply and demand purely determine the value. Talk of Bitcoin has taken over social media. Everyone from Warren Buffet to Uber drivers are discussing the potential of Bitcoin. 

  Melody Y. Huang from the University of California Berkeley used Google Search Trend data to predict movements of the S&P 500 in the paper Forecasting Stock Market Movements using Google Trend Searches. While she did not find significant results, she did examine the pros and cons of using certain predictive models as a mechanism for stock prediction using search data. 

# II. Data 

  The data for the research came from a variety of sources. The independent variables came from Google Search Trends. Google Search Trends is a tool used for people to see the demand or coverage of a given topic. Google released the product in 2004. The tool was expanded to allow users to compare search trends for multiple phrases as well as limit the search to individuals in a given geographic area. The phrases are case-sensitive. The two used for this project were "stocks" and "bitcoin". The case-sensitive nature to these resutls are also one of the main drawbacks. If an individual is searching for stocks to purchase or how to buy bitcoin, there are thousands of different variations that could be typed out. This also rules out individuals who do not use Google as a medium to get to a marketplace to buy/sell securities or bitcoin.
  The second main source of data was from 


# III. Methodology
The first test to examine the relationship or association between the depedent variables of securities traded and bitcoin products traded and the indepdent variables of the number of Google searches related to the two was a basic correlation. Correlations range from -1 to 1. They measure the strength and linear direction of two variables. 

The second test used was linear regression. 

The final test used was the indepedent-samples t-test. This procedure compares the means of two samples to determine if there is a statisitcally significant difference between the two. 

# IV. Analyis {style="color: red;"}


```{r load data, include = FALSE}
library(ggplot2)
library(plotly)
google_data <- read.csv("/Users/ERIC/Desktop/BDS_522/BDS_WEBSITE/bitcoin_mania/Stock_Search_data.csv", sep = ',')
stock_data <- read.csv("/Users/ERIC/Desktop/BDS_522/BDS_WEBSITE/bitcoin_mania/TRADING_VOLUME.csv", header = TRUE, sep = ',')
bitcoin_data <- read.csv("/Users/ERIC/Desktop/BDS_522/BDS_WEBSITE/bitcoin_mania/bitcoin_multiTimeline.csv", header = TRUE, sep = ',')
bitcoin_price <- read.csv("/Users/ERIC/Desktop/BDS_522/BDS_WEBSITE/bitcoin_mania/coindesk-bpi-USD-close_data-2010-07-17_2018-10-09.csv", header = TRUE, sep = ',')
bitcoin_trades <- read.csv("/Users/ERIC/Desktop/BDS_522/BDS_WEBSITE/bitcoin_mania/bitcoinity_data.csv", header = TRUE, sep = ',')
gdp_data <- read.csv("/Users/ERIC/Desktop/BDS_522/BDS_WEBSITE/bitcoin_mania/GDP_DATA.csv", header = TRUE, sep = ',')
```


```{r pressure, echo=FALSE, include=FALSE}
head(google_data)
stock_data = stock_data[-1,]
attach(google_data)
attach(stock_data)
head(stock_data)

#fix number

gdp_data$GDP <- as.numeric(gdp_data$GDP)

gdp_data$DATE <- as.character(gdp_data$DATE)
gdp_data$DATE <- as.Date(gdp_data$DATE, format = "%m/%d/%y")

stock_data$Shares.Traded <- gsub(',', '',stock_data$Shares.Traded)
stock_data$Shares.Traded <- as.numeric(stock_data$Shares.Traded)

bitcoin_trades$TOTAL <- gsub(',', '', bitcoin_trades$TOTAL)
bitcoin_trades$TOTAL <- as.numeric(bitcoin_trades$TOTAL)
bitcoin_trades$Time <- as.character(bitcoin_trades$Time)
bitcoin_trades$Time <- as.Date(bitcoin_trades$Time, format = "%Y-%m-%d")

#fix the dates It is the worst part. 
stock_data$X <- gsub('/', '-',stock_data$X)
stock_data$X <- paste0(stock_data$X, "-01")
stock_data$X <- as.character(stock_data$X)
stock_data$X <- as.Date(stock_data$X, format = "%Y-%m-%d")

#fix the dates It is the worst part.
#talk about tuplip mania
#are stocks more subject to media coverage or a craze nature.

class(google_data$DATE)
google_data$DATE <- as.character(google_data$DATE)
google_data$DATE <- as.Date(google_data$DATE, format = "%m/%d/%y")
google_data$SEARCHES <- as.numeric(google_data$SEARCHES)
length(google_data$SEARCHES)

#fix dates again
bitcoin_data$Month <- paste0(bitcoin_data$Month, "-01")
bitcoin_data$Month <- as.character(bitcoin_data$Month)
bitcoin_data$Month <- as.Date(bitcoin_data$Month, format = "%Y-%m-%d")
bitcoin_data$bitcoin <- as.numeric(bitcoin_data$bitcoin)

bitcoin_price$Date <- as.character(bitcoin_price$Date)
bitcoin_price$Date <- as.Date(bitcoin_price$Date, format = "%m/%d/%y")
bitcoin_price$Close_Price <- as.numeric(bitcoin_price$Close_Price)

mo <- strftime(bitcoin_price$Date, "%m")
yr <- strftime(bitcoin_price$Date, "%Y")
amt <- runif(3)
dd <- data.frame(mo, yr, amt)

```

```{r graph one, echo = FALSE}
p <- plot_ly(x = ~bitcoin_trades$Time, y = ~bitcoin_trades$TOTAL, type = 'scatter', mode = 'lines',
             line = list(color = 'rgb(67, 114, 9)', width = 3)) 
             
p
```

```{r graph two, echo = FALSE}
#graph some data 
p_2 <- plot_ly(x = ~stock_data$X, y = ~stock_data$Shares.Traded, type = 'scatter', mode = 'lines',
             line = list(color = 'rgb(67, 114, 9)', width = 3)) 
p_2
```

```{r graph three, echo = FALSE}
#graph some more data
p_3 <- plot_ly(x = ~google_data$DATE, y = ~google_data$SEARCHES, type = 'scatter', mode = 'lines',
             line = list(color = 'rgb(67, 114, 9)', width = 3)) 
p_3
```

```{r graph four, echo = FALSE}
#graph some more data

p_4 <- plot_ly(x = ~bitcoin_data$Month, y = ~bitcoin_data$bitcoin, type = 'scatter', mode = 'lines',
             line = list(color = 'rgb(67, 114, 9)', width = 3)) 
p_4
```


```{r graph five, echo = FALSE}
#graph some more data

p_3 <- plot_ly(x = ~bitcoin_price$Date, y = ~bitcoin_price$Close_Price, type = 'scatter', mode = 'lines',  line = list(color = 'rgb(67, 114, 9)', width = 3)) 
p_3

```

```{r graph six, echo = FALSE}
p_7 <- plot_ly(x = ~gdp_data$DATE, y = ~gdp_data$GDP, type = 'scatter', mode = 'lines',
             fill = 'tozeroy', line = list(color = 'rgb(67, 114, 9)', width = 3)) 
             
p_7

```


```{r tests six, echo = FALSE}
#CORRELATION 
cor_1 <- cor(bitcoin_trades$TOTAL,bitcoin_data$bitcoin)
cor_2 <- cor(stock_data$Shares.Traded, google_data$SEARCHES)

#REGRESSION FUN  I
summary(lm(log10(bitcoin_trades$TOTAL) ~ bitcoin_data$bitcoin))
summary(lm(log10(stock_data$Shares.Traded) ~ google_data$SEARCHES ))
    
#REGRESSION FUN  II
summary(lm(log10(bitcoin_trades$TOTAL) ~ bitcoin_data$bitcoin + log10(gdp_data$GDP)))
summary(lm(log10(stock_data$Shares.Traded) ~ google_data$SEARCHES + log10(gdp_data$GDP)))

#TTEST
t.test(bitcoin_trades$TOTAL,stock_data$Shares.Traded)



```



# V. Results

# VI. Conclusion

&nbsp;
<hr />
<p style="text-align: center;">A work by <a href="https://github.com/infiniteloop91">The Eric Lyons</a></p>
